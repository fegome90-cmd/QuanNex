{
  "version": "1.0.0",
  "policies": [
    {
      "id": "1dc6c116-04ee-4556-b4ab-eb5f3866215d",
      "version": "1.0.0",
      "name": "Initial Policy",
      "description": "Política inicial del TaskDB",
      "rules": {
        "task_validation": {
          "required_fields": [
            "title",
            "description",
            "priority"
          ],
          "max_title_length": 255,
          "allowed_priorities": [
            "critical",
            "high",
            "medium",
            "low"
          ]
        },
        "run_validation": {
          "max_duration_ms": 3600000,
          "required_metrics": [
            "success_rate",
            "error_count"
          ]
        },
        "gate_validation": {
          "required_types": [
            "lint",
            "policy",
            "security",
            "quality",
            "truth"
          ],
          "max_checks_per_gate": 100
        }
      },
      "created_at": "2025-10-03T22:32:15.698Z",
      "is_active": true
    }
  ],
  "tasks": [
    {
      "id": "c312fae7-9076-4b3f-b080-a20b47f78766",
      "title": "Corrección por retractación de reporte: Test Report with Provenance",
      "description": "El reporte 53b840bb-2192-4f75-aa66-497ffe9b6dc7 fue retractado por la razón: Test de retractación CLI. Se requiere una tarea de corrección.",
      "status": "todo",
      "priority": "critical",
      "policy_version": "1.0.0",
      "created_at": "2025-10-03T22:34:33.307Z",
      "updated_at": "2025-10-03T22:34:33.307Z",
      "completed_at": null,
      "assigned_to": null,
      "tags": [],
      "metadata": {
        "type": "correction",
        "original_report_id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
        "retraction_reason": "Test de retractación CLI",
        "created_via": "cli_retract"
      }
    },
    {
      "id": "d97d6e91-c284-427c-8ce9-7111d9905839",
      "title": "Canary Test Task - OLA 3",
      "description": "Tarea de prueba para canary de escritura",
      "status": "done",
      "priority": "medium",
      "policy_version": "1.0.0",
      "created_at": "2025-10-03T23:50:09.407Z",
      "updated_at": "2025-10-03T23:50:09.416Z",
      "completed_at": null,
      "assigned_to": null,
      "tags": [],
      "metadata": {}
    }
  ],
  "runs": [
    {
      "id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
      "task_id": "d97d6e91-c284-427c-8ce9-7111d9905839",
      "status": "pending",
      "started_at": "2025-10-03T23:50:09.409Z",
      "completed_at": null,
      "duration_ms": null,
      "tool_calls": [],
      "metrics": {
        "duration_ms": 1500,
        "memory_mb": 45
      },
      "error_message": null
    }
  ],
  "gates": [
    {
      "id": "c453a4f5-7302-4bb1-98bb-768c5fad1e53",
      "type": "lint",
      "status": "pending",
      "checks": [],
      "policy_version": "1.0.0",
      "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
      "created_at": "2025-10-03T23:50:09.413Z"
    },
    {
      "id": "d8781f52-eba2-49c6-806c-a4dc00272772",
      "type": "security",
      "status": "pending",
      "checks": [],
      "policy_version": "1.0.0",
      "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
      "created_at": "2025-10-03T23:50:09.414Z"
    },
    {
      "id": "2399557a-91c2-46a7-ad33-b9b1b179f63b",
      "type": "quality",
      "status": "pending",
      "checks": [],
      "policy_version": "1.0.0",
      "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
      "created_at": "2025-10-03T23:50:09.415Z"
    }
  ],
  "artifacts": [
    {
      "id": "20be9bd9-23b0-458c-9376-926e39554a09",
      "name": "test-report-with-provenance.json",
      "type": "report",
      "uri": "/Users/felipe/Developer/startkit-main/packages/reports/published-test-report-with-provenance.json",
      "hash": "266bfe48717d9ffb74e404bbae4f9c92b21450fbc78d9d7ae7e0ff4259ba014b",
      "size_bytes": 799,
      "created_at": "2025-10-03T22:32:54.304Z",
      "metadata": {
        "published": true,
        "original_file": "packages/reports/test-report-with-provenance.json",
        "published_at": "2025-10-03T22:32:54.303Z"
      }
    },
    {
      "id": "c863757d-129b-4370-8a9d-34d7782e9ba8",
      "name": "test-report-with-provenance.json",
      "type": "report",
      "uri": "/Users/felipe/Developer/startkit-main/packages/reports/published-test-report-with-provenance.json",
      "hash": "266bfe48717d9ffb74e404bbae4f9c92b21450fbc78d9d7ae7e0ff4259ba014b",
      "size_bytes": 799,
      "created_at": "2025-10-03T22:34:25.632Z",
      "metadata": {
        "published": true,
        "original_file": "packages/reports/test-report-with-provenance.json",
        "published_at": "2025-10-03T22:34:25.630Z"
      }
    }
  ],
  "events": [
    {
      "id": "91da0f8d-6afa-4e47-898c-0848bcd3bbfb",
      "type": "artifact_created",
      "entity_id": "20be9bd9-23b0-458c-9376-926e39554a09",
      "entity_type": "artifact",
      "timestamp": "2025-10-03T22:32:54.305Z",
      "data": {
        "id": "20be9bd9-23b0-458c-9376-926e39554a09",
        "name": "test-report-with-provenance.json",
        "type": "report",
        "uri": "/Users/felipe/Developer/startkit-main/packages/reports/published-test-report-with-provenance.json",
        "hash": "266bfe48717d9ffb74e404bbae4f9c92b21450fbc78d9d7ae7e0ff4259ba014b",
        "size_bytes": 799,
        "created_at": "2025-10-03T22:32:54.304Z",
        "metadata": {
          "published": true,
          "original_file": "packages/reports/test-report-with-provenance.json",
          "published_at": "2025-10-03T22:32:54.303Z"
        }
      },
      "source": "api"
    },
    {
      "id": "62d7de16-0498-4e8b-8459-d49424042bdc",
      "type": "report_created",
      "entity_id": "85a18f42-f81b-4256-b0d2-a9264314b7bd",
      "entity_type": "report",
      "timestamp": "2025-10-03T22:32:54.306Z",
      "data": {
        "id": "85a18f42-f81b-4256-b0d2-a9264314b7bd",
        "title": "Test Report with Provenance",
        "status": "draft",
        "report_provenance": {
          "task_ids": [],
          "run_ids": [],
          "artifact_hashes": [],
          "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
          "verified_at": "2025-10-03T22:30:00.000Z",
          "policy_version_used": "1.0.0",
          "row_counts": {
            "tasks": 0,
            "runs": 0,
            "gates": 0,
            "artifacts": 0,
            "events": 0,
            "reports": 1
          },
          "claims_validated": [
            {
              "claim": "Test report validado exitosamente",
              "evidence": "CLI validation test",
              "status": "validated"
            }
          ]
        },
        "created_at": "2025-10-03T22:32:54.305Z",
        "published_at": null,
        "retracted_at": null
      },
      "source": "api"
    },
    {
      "id": "3cfb2746-8e1f-4a0a-9a0e-3b8d9d459baa",
      "type": "artifact_created",
      "entity_id": "c863757d-129b-4370-8a9d-34d7782e9ba8",
      "entity_type": "artifact",
      "timestamp": "2025-10-03T22:34:25.634Z",
      "data": {
        "id": "c863757d-129b-4370-8a9d-34d7782e9ba8",
        "name": "test-report-with-provenance.json",
        "type": "report",
        "uri": "/Users/felipe/Developer/startkit-main/packages/reports/published-test-report-with-provenance.json",
        "hash": "266bfe48717d9ffb74e404bbae4f9c92b21450fbc78d9d7ae7e0ff4259ba014b",
        "size_bytes": 799,
        "created_at": "2025-10-03T22:34:25.632Z",
        "metadata": {
          "published": true,
          "original_file": "packages/reports/test-report-with-provenance.json",
          "published_at": "2025-10-03T22:34:25.630Z"
        }
      },
      "source": "api"
    },
    {
      "id": "2679fd93-cfe3-4843-8beb-fde2354bbd1e",
      "type": "report_created",
      "entity_id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
      "entity_type": "report",
      "timestamp": "2025-10-03T22:34:25.643Z",
      "data": {
        "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
        "title": "Test Report with Provenance",
        "status": "draft",
        "report_provenance": {
          "task_ids": [],
          "run_ids": [],
          "artifact_hashes": [],
          "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
          "verified_at": "2025-10-03T22:30:00.000Z",
          "policy_version_used": "1.0.0",
          "row_counts": {
            "tasks": 0,
            "runs": 0,
            "gates": 0,
            "artifacts": 0,
            "events": 0,
            "reports": 1
          },
          "claims_validated": [
            {
              "claim": "Test report validado exitosamente",
              "evidence": "CLI validation test",
              "status": "validated"
            }
          ]
        },
        "created_at": "2025-10-03T22:34:25.640Z",
        "published_at": null,
        "retracted_at": null
      },
      "source": "api"
    },
    {
      "id": "9bb898c3-4728-4114-9fb2-28d289a1e152",
      "type": "report_updated",
      "entity_id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
      "entity_type": "report",
      "timestamp": "2025-10-03T22:34:25.648Z",
      "data": {
        "old": {
          "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
          "title": "Test Report with Provenance",
          "status": "draft",
          "report_provenance": {
            "task_ids": [],
            "run_ids": [],
            "artifact_hashes": [],
            "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
            "verified_at": "2025-10-03T22:30:00.000Z",
            "policy_version_used": "1.0.0",
            "row_counts": {
              "tasks": 0,
              "runs": 0,
              "gates": 0,
              "artifacts": 0,
              "events": 0,
              "reports": 1
            },
            "claims_validated": [
              {
                "claim": "Test report validado exitosamente",
                "evidence": "CLI validation test",
                "status": "validated"
              }
            ]
          },
          "created_at": "2025-10-03T22:34:25.640Z",
          "published_at": null,
          "retracted_at": null
        },
        "new": {
          "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
          "title": "Test Report with Provenance",
          "status": "published",
          "report_provenance": {
            "task_ids": [],
            "run_ids": [],
            "artifact_hashes": [],
            "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
            "verified_at": "2025-10-03T22:30:00.000Z",
            "policy_version_used": "1.0.0",
            "row_counts": {
              "tasks": 0,
              "runs": 0,
              "gates": 0,
              "artifacts": 0,
              "events": 0,
              "reports": 1
            },
            "claims_validated": [
              {
                "claim": "Test report validado exitosamente",
                "evidence": "CLI validation test",
                "status": "validated"
              }
            ]
          },
          "created_at": "2025-10-03T22:34:25.640Z",
          "published_at": null,
          "retracted_at": null
        }
      },
      "source": "api"
    },
    {
      "id": "5a596dea-6b18-4764-a9c4-a9cca617a87a",
      "type": "report_updated",
      "entity_id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
      "entity_type": "report",
      "timestamp": "2025-10-03T22:34:33.307Z",
      "data": {
        "old": {
          "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
          "title": "Test Report with Provenance",
          "status": "published",
          "report_provenance": {
            "task_ids": [],
            "run_ids": [],
            "artifact_hashes": [],
            "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
            "verified_at": "2025-10-03T22:30:00.000Z",
            "policy_version_used": "1.0.0",
            "row_counts": {
              "tasks": 0,
              "runs": 0,
              "gates": 0,
              "artifacts": 0,
              "events": 0,
              "reports": 1
            },
            "claims_validated": [
              {
                "claim": "Test report validado exitosamente",
                "evidence": "CLI validation test",
                "status": "validated"
              }
            ]
          },
          "created_at": "2025-10-03T22:34:25.640Z",
          "published_at": null,
          "retracted_at": null
        },
        "new": {
          "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
          "title": "Test Report with Provenance",
          "status": "retracted",
          "report_provenance": {
            "task_ids": [],
            "run_ids": [],
            "artifact_hashes": [],
            "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
            "verified_at": "2025-10-03T22:30:00.000Z",
            "policy_version_used": "1.0.0",
            "row_counts": {
              "tasks": 0,
              "runs": 0,
              "gates": 0,
              "artifacts": 0,
              "events": 0,
              "reports": 1
            },
            "claims_validated": [
              {
                "claim": "Test report validado exitosamente",
                "evidence": "CLI validation test",
                "status": "validated"
              }
            ]
          },
          "created_at": "2025-10-03T22:34:25.640Z",
          "published_at": null,
          "retracted_at": "2025-10-03T22:34:33.306Z",
          "metadata": {
            "retraction_reason": "Test de retractación CLI",
            "retracted_at": "2025-10-03T22:34:33.306Z",
            "retracted_via": "cli"
          }
        }
      },
      "source": "api"
    },
    {
      "id": "82792f13-4e30-4bce-9082-b1d257ea8f24",
      "type": "task_created",
      "entity_id": "c312fae7-9076-4b3f-b080-a20b47f78766",
      "entity_type": "task",
      "timestamp": "2025-10-03T22:34:33.308Z",
      "data": {
        "id": "c312fae7-9076-4b3f-b080-a20b47f78766",
        "title": "Corrección por retractación de reporte: Test Report with Provenance",
        "description": "El reporte 53b840bb-2192-4f75-aa66-497ffe9b6dc7 fue retractado por la razón: Test de retractación CLI. Se requiere una tarea de corrección.",
        "status": "todo",
        "priority": "critical",
        "policy_version": "1.0.0",
        "created_at": "2025-10-03T22:34:33.307Z",
        "updated_at": "2025-10-03T22:34:33.307Z",
        "completed_at": null,
        "assigned_to": null,
        "tags": [],
        "metadata": {
          "type": "correction",
          "original_report_id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
          "retraction_reason": "Test de retractación CLI",
          "created_via": "cli_retract"
        }
      },
      "source": "api"
    },
    {
      "id": "651a3b00-4220-456d-a1b6-94838eb8c72b",
      "type": "task_created",
      "entity_id": "d97d6e91-c284-427c-8ce9-7111d9905839",
      "entity_type": "task",
      "timestamp": "2025-10-03T23:50:09.408Z",
      "data": {
        "id": "d97d6e91-c284-427c-8ce9-7111d9905839",
        "title": "Canary Test Task - OLA 3",
        "description": "Tarea de prueba para canary de escritura",
        "status": "todo",
        "priority": "medium",
        "policy_version": "1.0.0",
        "created_at": "2025-10-03T23:50:09.407Z",
        "updated_at": "2025-10-03T23:50:09.407Z",
        "completed_at": null,
        "assigned_to": null,
        "tags": [],
        "metadata": {}
      },
      "source": "api"
    },
    {
      "id": "db5a4437-f480-4ff6-84f1-5cee87a893f3",
      "type": "run_started",
      "entity_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
      "entity_type": "run",
      "timestamp": "2025-10-03T23:50:09.409Z",
      "data": {
        "id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
        "task_id": "d97d6e91-c284-427c-8ce9-7111d9905839",
        "status": "pending",
        "started_at": "2025-10-03T23:50:09.409Z",
        "completed_at": null,
        "duration_ms": null,
        "tool_calls": [],
        "metrics": {
          "duration_ms": 1500,
          "memory_mb": 45
        },
        "error_message": null
      },
      "source": "api"
    },
    {
      "id": "205ad07c-13dd-4010-b8d5-3f53cda09e2a",
      "type": "gate_created",
      "entity_id": "c453a4f5-7302-4bb1-98bb-768c5fad1e53",
      "entity_type": "gate",
      "timestamp": "2025-10-03T23:50:09.414Z",
      "data": {
        "id": "c453a4f5-7302-4bb1-98bb-768c5fad1e53",
        "type": "lint",
        "status": "pending",
        "checks": [],
        "policy_version": "1.0.0",
        "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
        "created_at": "2025-10-03T23:50:09.413Z"
      },
      "source": "api"
    },
    {
      "id": "e56209ca-ef15-48f1-add5-c1f9d891db62",
      "type": "gate_created",
      "entity_id": "d8781f52-eba2-49c6-806c-a4dc00272772",
      "entity_type": "gate",
      "timestamp": "2025-10-03T23:50:09.415Z",
      "data": {
        "id": "d8781f52-eba2-49c6-806c-a4dc00272772",
        "type": "security",
        "status": "pending",
        "checks": [],
        "policy_version": "1.0.0",
        "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
        "created_at": "2025-10-03T23:50:09.414Z"
      },
      "source": "api"
    },
    {
      "id": "07fe8205-25cd-4be6-891b-5335aea86a63",
      "type": "gate_created",
      "entity_id": "2399557a-91c2-46a7-ad33-b9b1b179f63b",
      "entity_type": "gate",
      "timestamp": "2025-10-03T23:50:09.415Z",
      "data": {
        "id": "2399557a-91c2-46a7-ad33-b9b1b179f63b",
        "type": "quality",
        "status": "pending",
        "checks": [],
        "policy_version": "1.0.0",
        "run_id": "695ab0d4-a931-4bbf-bc6c-8f37c075f9fc",
        "created_at": "2025-10-03T23:50:09.415Z"
      },
      "source": "api"
    },
    {
      "id": "b5b89289-590e-4098-aa18-6b5669fb7b5c",
      "type": "task_updated",
      "entity_id": "d97d6e91-c284-427c-8ce9-7111d9905839",
      "entity_type": "task",
      "timestamp": "2025-10-03T23:50:09.416Z",
      "data": {
        "old": {
          "id": "d97d6e91-c284-427c-8ce9-7111d9905839",
          "title": "Canary Test Task - OLA 3",
          "description": "Tarea de prueba para canary de escritura",
          "status": "todo",
          "priority": "medium",
          "policy_version": "1.0.0",
          "created_at": "2025-10-03T23:50:09.407Z",
          "updated_at": "2025-10-03T23:50:09.407Z",
          "completed_at": null,
          "assigned_to": null,
          "tags": [],
          "metadata": {}
        },
        "new": {
          "id": "d97d6e91-c284-427c-8ce9-7111d9905839",
          "title": "Canary Test Task - OLA 3",
          "description": "Tarea de prueba para canary de escritura",
          "status": "done",
          "priority": "medium",
          "policy_version": "1.0.0",
          "created_at": "2025-10-03T23:50:09.407Z",
          "updated_at": "2025-10-03T23:50:09.416Z",
          "completed_at": null,
          "assigned_to": null,
          "tags": [],
          "metadata": {}
        }
      },
      "source": "api"
    }
  ],
  "reports": [
    {
      "id": "85a18f42-f81b-4256-b0d2-a9264314b7bd",
      "title": "Test Report with Provenance",
      "status": "draft",
      "report_provenance": {
        "task_ids": [],
        "run_ids": [],
        "artifact_hashes": [],
        "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
        "verified_at": "2025-10-03T22:30:00.000Z",
        "policy_version_used": "1.0.0",
        "row_counts": {
          "tasks": 0,
          "runs": 0,
          "gates": 0,
          "artifacts": 0,
          "events": 0,
          "reports": 1
        },
        "claims_validated": [
          {
            "claim": "Test report validado exitosamente",
            "evidence": "CLI validation test",
            "status": "validated"
          }
        ]
      },
      "created_at": "2025-10-03T22:32:54.305Z",
      "published_at": null,
      "retracted_at": null
    },
    {
      "id": "53b840bb-2192-4f75-aa66-497ffe9b6dc7",
      "title": "Test Report with Provenance",
      "status": "retracted",
      "report_provenance": {
        "task_ids": [],
        "run_ids": [],
        "artifact_hashes": [],
        "verification_snapshot_ts": "2025-10-03T22:30:00.000Z",
        "verified_at": "2025-10-03T22:30:00.000Z",
        "policy_version_used": "1.0.0",
        "row_counts": {
          "tasks": 0,
          "runs": 0,
          "gates": 0,
          "artifacts": 0,
          "events": 0,
          "reports": 1
        },
        "claims_validated": [
          {
            "claim": "Test report validado exitosamente",
            "evidence": "CLI validation test",
            "status": "validated"
          }
        ]
      },
      "created_at": "2025-10-03T22:34:25.640Z",
      "published_at": null,
      "retracted_at": "2025-10-03T22:34:33.306Z",
      "metadata": {
        "retraction_reason": "Test de retractación CLI",
        "retracted_at": "2025-10-03T22:34:33.306Z",
        "retracted_via": "cli"
      }
    }
  ]
}