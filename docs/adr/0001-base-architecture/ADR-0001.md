# ADR-0001: Stack Básico del Kit

Estado: Propuesto

Contexto
- El kit es un inicializador basado en Bash que genera estructuras `.claude/`, comandos y agentes, con integración opcional Playwright MCP.
- Debe ser determinista, seguro por defecto y portable (macOS/Linux).

Decisión
- Shell scripting con Bash (>= 3.2), estilo seguro: `set -Eeuo pipefail`, `trap` de errores, idempotencia conservadora.
- Git como SCM; compatibilidad con `git init -b main` y fallback a `git init` + `symbolic-ref`.
- CI con checks esenciales: lint (shellcheck/shfmt), tests (init y flags), escaneo de secretos, sin permisos elevados por defecto.
- Plantillas por tipo (frontend/backend/fullstack/medical/design) con `healthcheck.sh` y `.gitignore` endurecido para `.claude/memory/*`.
- Hooks “safe by default”: notificaciones opt‑in y lint fix opt‑in mediante variables de entorno.

Implicaciones
- Mejor trazabilidad y reproducibilidad al costo de más disciplina en cambios de plantillas (heredocs → considerar templates).
- Compatibilidad ampliada con versiones antiguas de Git; menor riesgo de fallos en entornos legacy.

Alternativas consideradas
- Mantener hooks con auto‑fix por defecto (descartado por riesgo de ejecución no confiable).
- Node/CLI dedicado para el init (descartado por complejidad y nuevas dependencias).

Medidas de calidad
- ≥95% PRs con CI verde; 0 secretos por release; healthcheck pasa en todos los tipos.
